<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>Lerninhalte anzeigen</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Lerninhalte anzeigen</h1>
  <div id="container">Wird geladenâ€¦</div>

  <script>
    async function ladeAbschnitte() {
      try {
        const res = await fetch("inhalte.xml");
        const xmlText = await res.text();
        const parser = new DOMParser();
        const xml = parser.parseFromString(xmlText, "text/xml");

        const abschnitte = xml.getElementsByTagName("abschnitt");
        const container = document.getElementById("container");
        container.innerHTML = "";

        for (let abschnitt of abschnitte) {
          const datei = abschnitt.getAttribute("datei");
          const titel = abschnitt.getAttribute("titel");

          const section = document.createElement("section");

          const headline = document.createElement("h2");
          headline.textContent = titel;
          section.appendChild(headline);

          const iframe = document.createElement("iframe");
          iframe.src = datei;
          iframe.width = "100%";
          iframe.height = "500";
          iframe.style.border = "1px solid #ccc";
          section.appendChild(iframe);

          container.appendChild(section);
        }
      } catch (err) {
        document.getElementById("container").innerHTML =
          "Fehler beim Laden der Inhalte: " + err;
      }
    }

    ladeAbschnitte();
  </script>
</body>
</html>
